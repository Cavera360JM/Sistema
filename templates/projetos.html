{% extends "base.html" %}
{% block title %}Projetos | TaskPro{% endblock %}

{% block content %}
<div class="flex justify-between items-center mb-6 border-b pb-4">
    <h2 class="text-3xl font-bold text-gray-800">Projetos</h2>
    <a href="{{ url_for('novo_projeto') }}" class="px-4 py-2 bg-indigo-600 text-white font-semibold rounded-xl hover:bg-indigo-700 transition duration-150 shadow-lg flex items-center">
        <i class="fas fa-plus mr-2"></i> Novo Projeto
    </a>
</div>

{% if projetos_list %}
    <div class="space-y-4">
        {% for projeto in projetos_list %}
            <div class="bg-white border border-gray-100 p-5 rounded-xl shadow-lg flex justify-between items-center">
                <div class="flex-1">
                    <h3 class="text-xl font-semibold text-gray-900">{{ projeto.nome }}</h3>
                    <p class="text-sm text-gray-500 mt-1 max-w-xl truncate">{{ projeto.descricao }}</p>
                    <span class="text-xs text-gray-400 mt-2 block">Criado em: {{ projeto.data_criacao | datetime_brasilia }}</span>
                </div>
                
                <div class="flex space-x-2">
                    <!-- Ação: Deletar -->
                    <form action="{{ url_for('deletar_projeto', firebase_id=projeto.firebase_id) }}" method="POST" onsubmit="return confirm('Tem certeza que deseja deletar o projeto: {{ projeto.nome }}?');">
                        <button type="submit" class="w-8 h-8 flex items-center justify-center text-red-500 hover:text-red-700 transition rounded-full hover:bg-red-50" title="Deletar Projeto">
                            <i class="fas fa-trash-alt"></i>
                        </button>
                    </form>
                </div>
            </div>
        {% endfor %}
    </div>
{% else %}
    <div class="text-center p-10 border-2 border-dashed border-gray-200 rounded-xl">
        <i class="fas fa-folder-open text-4xl text-gray-400 mb-4"></i>
        <p class="text-xl text-gray-600 font-semibold">Nenhum projeto cadastrado.</p>
        <a href="{{ url_for('novo_projeto') }}" class="mt-4 inline-block px-6 py-2 bg-indigo-500 text-white font-medium rounded-xl hover:bg-indigo-600 transition duration-150">
            Criar Primeiro Projeto
        </a>
    </div>
{% endif %}
{% endblock %}
